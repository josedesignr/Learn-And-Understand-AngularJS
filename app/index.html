<!doctype html>

<html lang="us" ng-app="myApp">
  <head>
    <title>Introduction to AngularJS</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" name="viewport" content="width=device-width, initial-scale=1">
    
    <!--load bootstrap and fontawesome via CDN-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://use.fontawesome.com/7dfe99d5ce.js"></script>

    <link rel="stylesheet" href="styles/main.css">
    <script src="/bower_components/modernizr/modernizr.js"></script>

  </head>
  <body>

    <header>
      <nav class="navbar navbar-default">
        <div class="container">
          <div class="navbar-header">
            <a class="navbar-brand" href="/"> Common Directives</a>
          </div>

          <ul class="nav navbar-nav navbar-right">
            <li> <a href="#"> <i class="fa fa-home"></i> Home </a> </li>
          </ul>
        </div>
      </nav>
    </header>

    <div class="container" ng-controller="mainController">
      <div class="row">
        <div class="col-md-12">
          
          <div>
            <label>What is your Twitter account?</label>
            <input type="text" ng-model="account"/>
          </div>
          
          <!--
            BUILT-IN DIRECTIVE: ng-if: Can contain any true/false validation.
            If validation is not met, this piece of HTML is not renderer in the DOM.
            Here, we are validating if account.length is equal to our 'characters' variable (5)
          -->
          <div class="alert alert-danger" ng-if="account.length !== characters"> Must be 5 characters long! (Validation with ng-if) </div>


          <!--
            BUILT-IN DIRECTIVE: ng-show: Can contain any true/false validation.
            Pretty similar with ng-if, but this time, if validation is not met, this piece of HTML
            will be present in the HTML, but with "display:none !important"
            Here, we are validating if account.length is equal to our 'characters' variable (5)
          -->
          <div class="alert alert-danger" ng-show="account.length !== characters"> Must be 5 characters long! (validation with ng-show)</div>

          <!--
            BUILT-IN DIRECTIVE: ng-hide: Can contain any true/false validation.
            Exactly the same as ng-show, but inverse. This time if the validation is not met,
            the piece of HTML will be visible, if it's true, will be hidden.
            Here, we are validating if account.length is equal to our 'characters' variable (5)
            Notice that this time is saying "hide when lenght is EQUAL to 5"
          -->
          <div class="alert alert-danger" ng-hide="account.length === characters"> Must be 5 characters long! (validation with ng-hide) </div>

          <!--
            BUILT-IN DIRECTIVE: ng-class: Add a class (or a different) depending on a validation.
            Let's suppose we want to use a different bootstrap class, depending on different
            situations.
            Yellow: if it's less than 5 characters.
            Green: If it's equal to 5 characters.
            Red: If is more than 5 characters.
            We could do that easily with ng-class, check it out:
            (ng-class receives an object {} with the names of the classes as properties)
          -->
          <div class="alert" ng-class="{'alert-warning': account.length < characters, 'alert-success': account.length === characters, 'alert-danger': account.length > characters }"> 
            <!--
              And we can have directives inside of other directives, so let's also show a
              different message in each one of these cases, using the ng-show that we saw above
            -->
            <div ng-show="account.length < characters"> Less than 5 characters. (ng-class)</div>
            <div ng-show="account.length === characters"> Great! It's 5 characters. (ng-class) </div>
            <div ng-show="account.length > characters"> More than 5 characters. (ng-class) </div>

          </div>

          <!--
            BUILT-IN DIRECTIVE: ng-repeat: I can iterate over an array, and create a list of <li>
            by only putting one <li> here, all of them will be created by the repeat.
            ng-repeat receives a name (usually the singular word of the array name) and an array name.
            For example, if our array name in the JavaScript is shoes, we would put:
            ng-repeat="shoe in shoes", it could also be "a in shoes", but it's easier to understand in the first way, because is one, of all the array items.
            After that, we can just put by interpolation the value that we want.
          -->
          <ul>
            <li ng-repeat="rule in rules">{{rule.rulename}}</li>
          </ul>

          <!--
            BUILT-IN DIRECTIVE: ng-click: Triggers a function defined by us in the controller, as
            soon as the element is clicked.
          -->
          <input type="button" value="Click me!" ng-click="myFunction()"/>

          <!--
            BUILT-IN DIRECTIVE: ng-mouseover: Triggers a function defined by us in the controller, as
            soon as we pass the mouse over the element.
          -->
          <h2 ng-mouseover="myFunction()" > Put the mouse over here </h2>

          <!--
            BUILT-IN DIRECTIVE: ng-keydown: Triggers a function defined by us in the controller, as
            soon as the value in the element, changes.
          -->
          <input type="text" placeholder="ng-keydown test" ng-keydown="myFunction()" />

          <!--
            BUILT-IN DIRECTIVE: ng-keypress: Triggers a function defined by us in the controller, as
            soon as we press a key in the input that contains the ng-keypress. 
          -->
          <input type="text" placeholder="ng-keypress test" ng-keypress="myFunction()"/>

          <!--
            BUILT-IN DIRECTIVE: ng-change: Triggers a function defined by us in the controller, as
            soon as the value of the element with ng-change, changes.
            (ng-change receives a model, to compare if there are changes.)
          -->
          <input type="text" placeholder="ng-change test" ng-model="account" ng-change="myFunction()"/>

          <hr/>

          <!--
            BUILT-IN DIRECTIVE: ng-cloak: Sometimes, if you have a slow internet connection or a slow computer, you may see the interpolation expressions (in this case {{account}} ), instead of the value stored in $scope.account.
            To avoid that, AngularJS had introduced ng-cloak, so you wont see that interpolation but only the correct values when they are ready. 
          -->
          <h1 ng-cloak > twitter.com/{{account}} </h1>
        </div>
      </div>
    </div>

    <script src="/bower_components/jquery/dist/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <!--This is Angular, here is being imported from a CDN but the best practice is to install it witn a Package Manager, like Bower.-->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>

    <script src="/bower_components/modernizr/modernizr.js"></script>
    
    <script src="scripts/app.js"></script>
  </body>
</html>
